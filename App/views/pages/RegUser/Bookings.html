<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="../../Component/NavBar/navbar.css">
    <link rel="stylesheet" href="./../../Component/Header/header.css">
    <link rel="stylesheet" href="./Bookings.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bookings</title>
</head>
<body>
    <script>
        localStorage.setItem('userRole', 'RegisteredUser'); // Ensure this is set before the header loads
    </script>
    <!-- Header and Navbar -->
    <div id="header-container"></div>
    <div id="navbar-container"></div>  
    <br/> 

    <div class="main">
        <br>
        <div class="container">
            <h3 class="clickable" id="showPastBookings"><u>Past Bookings</u></h3>
            <h3 class="clickable" id="showUpcomingBookings"><u>Upcoming Bookings</u></h3>
            <div class="input-group">
                <div class="icon"><i class="fas fa-calendar-alt"></i></div>
                <input type="date" class="search-input">
            </div>
        </div>

        <!-- Table Structure for past bookings -->
        <table id="pastBookings">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Time</th>
                    <th>Route</th>
                    <th>From</th>
                    <th>To</th>
                    <th>Bus No</th>
                    <th>Price (LKR)</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td data-label="Date">07/06/2024</td>
                    <td data-label="Time">09.30 a.m.</td>
                    <td data-label="Route">438</td>
                    <td data-label="From">Mathugama</td>
                    <td data-label="To">Colombo</td>
                    <td data-label="Bus No">XP23415</td>
                    <td data-label="Price (LKR)">400</td>
                    <td data-label="Status" class="status">Completed <i class="fas fa-check-circle"></i></td>
                </tr>
                <!-- Add more rows as needed -->
            </tbody>
        </table>

        <!-- Table Structure to upcoming bookings -->
        <table id="upcomingBookings">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Time</th>
                    <th>Route</th>
                    <th>From</th>
                    <th>To</th>
                    <th>Bus No</th>
                    <th>Price (LKR)</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td data-label="Date">07/06/2024</td>
                    <td data-label="Time">09.30 a.m.</td>
                    <td data-label="Route">438</td>
                    <td data-label="From">Mathugama</td>
                    <td data-label="To">Colombo</td>
                    <td data-label="Bus No">XP23415</td>
                    <td data-label="Price (LKR)">400</td>
                    <td data-label="Action">
                        <i class="fas fa-search search-icon"></i>
                        <div class="pop-up-menu">
                            <a href="./SeeTicket.html"><p>See Ticket</p></a>
                            <a href="./CancelBooking.html"><p>Cancel Booking</p></a>
                        </div>
                    </td>
                    
                </tr>
                <!-- Add more rows as needed -->
            </tbody>
        </table>
    </div>

    <!-- External JavaScript -->
    <script src="./../../Component/Header/header.js"></script>
    <script src="./../../Component/NavBar/navbar.js"></script>
    <script src="./Bookings.js"></script>

    <script>

        // Default color for the non-clicked element
        const defaultColor = 'black'; // or whatever the default color is

        // Show only the "Past Bookings" table by default
        document.getElementById('pastBookings').style.display = 'table';
        document.getElementById('upcomingBookings').style.display = 'none';
        document.getElementById('showPastBookings').style.color = 'red';

        // Add click event listeners for the headers
        document.getElementById('showPastBookings').addEventListener('click', function() {
            document.getElementById('pastBookings').style.display = 'table';
            document.getElementById('upcomingBookings').style.display = 'none';

            // Change color of the clicked text
            document.getElementById('showPastBookings').style.color = 'red';

            // Revert the other text to default color
            document.getElementById('showUpcomingBookings').style.color = defaultColor;
        });

        document.getElementById('showUpcomingBookings').addEventListener('click', function() {
            document.getElementById('pastBookings').style.display = 'none';
            document.getElementById('upcomingBookings').style.display = 'table';

            // Change color of the clicked text
            document.getElementById('showUpcomingBookings').style.color = 'red';

            // Revert the other text to default color
            document.getElementById('showPastBookings').style.color = defaultColor;
        });

        // Handle pop-up menu visibility
document.querySelectorAll('.search-icon').forEach(icon => {
    const popUpMenu = icon.nextElementSibling;

    // Show the pop-up menu on mouseenter
    icon.addEventListener('mouseenter', function() {
        popUpMenu.classList.add('show');
    });

    // Keep the pop-up menu visible when hovering over it
    popUpMenu.addEventListener('mouseenter', function() {
        popUpMenu.classList.add('show');
    });

    // Hide the pop-up menu when leaving the icon
    icon.addEventListener('mouseleave', function() {
        setTimeout(function() {
            if (!popUpMenu.matches(':hover')) {
                popUpMenu.classList.remove('show');
            }
        }, 200); // Slight delay to allow moving from icon to menu
    });

    // Hide the pop-up menu when leaving the menu
    popUpMenu.addEventListener('mouseleave', function() {
        popUpMenu.classList.remove('show');
    });
});



    </script>
</body>
</html>
